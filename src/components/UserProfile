import React from 'react';
import Skeleton from '../components/Skeleton';

const UserProfile = ({ isLoading, uploadedImageSrc, handleImageUpload, profileImg, username }) => {
    return (
        <div className="flex flex-row items-center justify-center text-center mt-5 mb-1">
                {isLoading ? (
                    <Skeleton width="64px" height="64px" className="rounded-full" />
                ) : (
                    <img
                        src={profileImg}
                        alt="Profile"
                        className="w-16 h-16 rounded-full object-cover"
                    />
                )}

                <div
                    className="bg-[rgb(156,179,128)] w-16 h-16 relative cursor-pointer rounded-full z-1 -translate-x-3"
                    onClick={() => document.getElementById('fileInput').click()}
                >
                    <input
                        id="fileInput"
                        type="file"
                        accept="image/*"
                        className="absolute inset-0 opacity-0 cursor-pointer"
                        onChange={handleImageUpload}
                    />
                    {isLoading ? (
                        <Skeleton width="100%" height="64px" className="rounded-full" />
                    ) : uploadedImageSrc ? (
                        <img
                            src={uploadedImageSrc}
                            alt="Selected"
                            className="absolute inset-0 w-full h-full rounded-full object-cover z-0"
                        />
                    ) : (
                        <span className="flex items-center justify-center h-full text-gray-500">
                            <i className="fa-regular fa-image"></i>
                        </span>
                    )}
                </div>
            </div>
    );
};

export default UserProfile;
